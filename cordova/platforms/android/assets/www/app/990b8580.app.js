"use strict";angular.module("liveTtApp",["ngCookies","ngResource","ngSanitize","btford.socket-io","ui.router","ui.bootstrap","ngMaterial","ngMessages","angularMoment","angular-tour"]).config(["$stateProvider","$urlRouterProvider","$locationProvider","$httpProvider",function(a,b,c,d){d.interceptors.push("httpRequestInterceptor"),b.otherwise("/"),c.html5Mode(!0),d.interceptors.push("authInterceptor")}]).factory("authInterceptor",["$rootScope","$q","$cookieStore","$location",function(a,b,c,d){return{request:function(a){return a.headers=a.headers||{},c.get("token")&&(a.headers.Authorization="Bearer "+c.get("token")),a},responseError:function(a){return 401===a.status?(d.path("/login"),c.remove("token"),b.reject(a)):b.reject(a)}}}]).factory("httpRequestInterceptor",["$q","$location","$mdToast",function(a,b,c){return{responseError:function(d){return 404===d.status&&(c.show(c.simple().content("Page non trouvée!").theme("danger-toast")),b.href="/"),a.reject(d)}}}]).run(["$rootScope","$location","Auth",function(a,b,c){a.$on("$stateChangeStart",function(a,d){c.isLoggedInAsync(function(c){d.authenticate&&!c&&(a.preventDefault(),b.path("/login"))})})}]).config(["$mdThemingProvider",function(a){a.theme("default").primaryPalette("indigo",{"default":"500","hue-1":"100","hue-2":"600","hue-3":"A100"}).accentPalette("blue-grey",{"default":"300"})}]).run(["amMoment",function(a){a.changeLocale("fr")}]),angular.module("liveTtApp").config(["$stateProvider",function(a){a.state("login",{url:"/login",templateUrl:"app/account/login/login.html",controller:"LoginCtrl"}).state("signup",{url:"/signup",templateUrl:"app/account/signup/signup.html",controller:"SignupCtrl"}).state("settings",{url:"/settings",templateUrl:"app/account/settings/settings.html",controller:"SettingsCtrl",authenticate:!0})}]),angular.module("liveTtApp").controller("LoginCtrl",["$scope","Auth","$location","$window","$mdToast",function(a,b,c,d,e){a.user={},a.errors={},a.login=function(d){a.submitted=!0,d.$valid&&b.login({username:a.user.username,password:a.user.password}).then(function(){c.path("/")})["catch"](function(b){a.errors.other=b.message})},a.loginOauth=function(a){d.location.href="/auth/"+a}}]),angular.module("liveTtApp").controller("SettingsCtrl",["$scope","User","Auth",function(a,b,c){a.errors={},a.changePassword=function(b){a.submitted=!0,b.$valid&&c.changePassword(a.user.oldPassword,a.user.newPassword).then(function(){a.message="Password successfully changed."})["catch"](function(){b.password.$setValidity("mongoose",!1),a.errors.other="Incorrect password",a.message=""})}}]),angular.module("liveTtApp").controller("SignupCtrl",["$scope","Auth","$location","$window",function(a,b,c,d){a.user={},a.errors={},a.register=function(d){a.submitted=!0,d.$valid&&b.createUser({username:a.user.username,password:a.user.password}).then(function(){c.path("/")})["catch"](function(b){b=b.data,a.errors={},angular.forEach(b.errors,function(b,c){d[c].$setValidity("mongoose",!1),a.errors[c]=b.message})})},a.loginOauth=function(a){d.location.href="/auth/"+a}}]),angular.module("liveTtApp").controller("AdminCtrl",["$scope","$http","Auth","User",function(a,b,c,d){a.users=d.query(),a["delete"]=function(b){d.remove({id:b._id}),angular.forEach(a.users,function(c,d){c===b&&a.users.splice(d,1)})}}]),angular.module("liveTtApp").config(["$stateProvider",function(a){a.state("admin",{url:"/admin",templateUrl:"app/admin/admin.html",controller:"AdminCtrl"})}]),angular.module("liveTtApp").controller("ComingCtrl",["$scope","$http","socket","$match","$stateParams","$mdDialog","$mdToast","$mdSidenav","$mdUtil","$log","$location","Auth",function(a,b,c,d,e,f,g,h,i,j,k,l){d.getComingMatchs().then(function(b){a.matchs=b.data})}]),angular.module("liveTtApp").config(["$stateProvider",function(a){a.state("coming",{url:"/coming",templateUrl:"app/coming/coming.html",controller:"ComingCtrl"})}]),angular.module("liveTtApp").directive("playerName",function(){return{templateUrl:"app/directives/playerName/playerName.html",restrict:"EA",scope:{id:"=",players:"="},link:function(a,b,c){console.log("eee");for(var d=a.players.length-1;d>=0;d--)a.id==a.players[d]._id&&(a.fullname=a.players[d].firstname+" "+a.players[d].lastname,a.points=a.players[d].points)}}}),angular.module("liveTtApp").controller("FavoriteCtrl",["$scope","$http","socket","$match","$stateParams","$mdDialog","$mdToast","$mdSidenav","$mdUtil","$log","$location","Auth",function(a,b,c,d,e,f,g,h,i,j,k,l){l.getCurrentUser()._id||k.path("/"),d.followedMatch(l.getCurrentUser()._id).then(function(b){a.matchs=b.data}),a.unFollowMatch=function(a){d.unFollowMatch(a,l.getCurrentUser()._id).then(function(a){g.show(g.simple().content("Match correctement supprimé de vos favoris").theme("success-toast"))})}}]),angular.module("liveTtApp").config(["$stateProvider",function(a){a.state("favorite",{url:"/favorite",templateUrl:"app/favorite/favorite.html",controller:"FavoriteCtrl"})}]),angular.module("liveTtApp").controller("AddGameController",["$scope","$mdDialog","$mdToast","match",function(a,b,c,d){a.match=d,a.dom=[],a.ext=[],a.hide=function(){b.hide()},a.cancel=function(){b.cancel()},a.submit=function(){if(a.dom.length==a.ext.length)if(1==a.dom.length||2==a.dom.length){var d={dom:a.dom,ext:a.ext,score:{dom:0,ext:0,details:[{dom:0,ext:0},{dom:0,ext:0},{dom:0,ext:0},{dom:0,ext:0},{dom:0,ext:0}]}};b.hide(d)}else c.show(c.simple().content("Erreur : Un match doit avoir 2 ou 4 joueurs!").theme("danger-toast"));else c.show(c.simple().content("Erreur : Nombre de joueur inégal").theme("danger-toast"))},a.updateTeam=function(b,c){var d=a[b].indexOf(c);0>d?a[b].push(c):a[b].splice(d,1)}}]),angular.module("liveTtApp").controller("MainCtrl",["$scope","$http","socket","$match","$stateParams","$mdDialog","$mdToast","$mdSidenav","$mdUtil","$log","$location","Auth",function(a,b,c,d,e,f,g,h,i,j,k,l){function m(a){var b=i.debounce(function(){h(a).toggle().then(function(){j.debug("toggle "+a+" is done")})},300);return b}function n(){return a.match.active?!0:(g.show(g.simple().content("Impossible de modifier le score. Ce live n'est pas encore actif").theme("danger-toast")),!1)}function o(){a.match.author._id==l.getCurrentUser()._id?a.isAuthor=!0:a.isAuthor=!1}function p(){c.syncUpdates(a.match._id,a.match,function(b,c){console.log(c),a.match=c}),a.$on("$destroy",function(){c.unsyncUpdates(a.match._id)})}a.isAuth=!!l.getCurrentUser()._id,a.currentStep=0,a.matchs=[],d.getActiveMatchs().then(function(b){a.matchs=b.data}),a.toggleFilter=m("filterMatchs"),a.divisions=["PRO A","PRO B","N1","N2","N3","PNZ","R1","R2","R3","R4","R5","PR","D1","D2","D3","D4","D5"],a.zones=["Z01","Z02","Z03","Z04","Z05","Z06","Z07"],a.ligues=["Rhone Alpes","Alsace","Aquitaine","Pays de la Loire","Auvergne","Bourgogne","Bretagne","Champagne Ardennes","PACA","Nord Pas de Calais","Franche Comté","Ile de France","Languedoc Roussillon","Limousin","Lorraine","Basse Normandie","Haute Normandie","Picardie","Poitou Charentes","Provence","Midi Pyrénées","Centre","Corse","Guyane","Reunion","Nouvelle Calédonie","Guadeloupe","Martinique","Mayotte","Tahiti","Wallis Et Futuna"],a.departements=[{id:"01",nom:"AIN"},{id:"02",nom:"AISNE"},{id:"03",nom:"ALLIER"},{id:"04",nom:"ALPES-DE-HAUTE-PROVENCE"},{id:"05",nom:"HAUTES-ALPES"},{id:"06",nom:"ALPES-MARITIMES"},{id:"07",nom:"ARDECHE"},{id:"08",nom:"ARDENNES"},{id:"09",nom:"ARIEGE"},{id:"10",nom:"AUBE"},{id:"11",nom:"AUDE"},{id:"12",nom:"AVEYRON"},{id:"13",nom:"BOUCHES-DU-RHONE"},{id:"14",nom:"CALVADOS"},{id:"15",nom:"CANTAL"},{id:"16",nom:"CHARENTE"},{id:"17",nom:"CHARENTE-MARITIME"},{id:"18",nom:"CHER"},{id:"19",nom:"CORREZE"},{id:"21",nom:"COTE-D'OR"},{id:"22",nom:"COTES-D'ARMOR"},{id:"23",nom:"CREUSE"},{id:"24",nom:"DORDOGNE"},{id:"25",nom:"DOUBS"},{id:"26",nom:"DROME"},{id:"27",nom:"EURE"},{id:"28",nom:"EURE-ET-LOIR"},{id:"29",nom:"FINISTERE"},{id:"2A",nom:"CORSE-DU-SUD"},{id:"2B",nom:"HAUTE-CORSE"},{id:"30",nom:"GARD"},{id:"31",nom:"HAUTE-GARONNE"},{id:"32",nom:"GERS"},{id:"33",nom:"GIRONDE"},{id:"34",nom:"HERAULT"},{id:"35",nom:"ILLE-ET-VILAINE"},{id:"36",nom:"INDRE"},{id:"37",nom:"INDRE-ET-LOIRE"},{id:"38",nom:"ISERE"},{id:"39",nom:"JURA"},{id:"40",nom:"LANDES"},{id:"41",nom:"LOIR-ET-CHER"},{id:"42",nom:"LOIRE"},{id:"43",nom:"HAUTE-LOIRE"},{id:"44",nom:"LOIRE-ATLANTIQUE"},{id:"45",nom:"LOIRET"},{id:"46",nom:"LOT"},{id:"47",nom:"LOT-ET-GARONNE"},{id:"48",nom:"LOZERE"},{id:"49",nom:"MAINE-ET-LOIRE"},{id:"50",nom:"MANCHE"},{id:"51",nom:"MARNE"},{id:"52",nom:"HAUTE-MARNE"},{id:"53",nom:"MAYENNE"},{id:"54",nom:"MEURTHE-ET-MOSELLE"},{id:"55",nom:"MEUSE"},{id:"56",nom:"MORBIHAN"},{id:"57",nom:"MOSELLE"},{id:"58",nom:"NIEVRE"},{id:"59",nom:"NORD"},{id:"60",nom:"OISE"},{id:"61",nom:"ORNE"},{id:"62",nom:"PAS-DE-CALAIS"},{id:"63",nom:"PUY-DE-DOME"},{id:"64",nom:"PYRENEES-ATLANTIQUES"},{id:"65",nom:"HAUTES-PYRENEES"},{id:"66",nom:"PYRENEES-ORIENTALES"},{id:"67",nom:"BAS-RHIN"},{id:"68",nom:"HAUT-RHIN"},{id:"69",nom:"RHONE"},{id:"70",nom:"HAUTE-SAONE"},{id:"71",nom:"SAONE-ET-LOIRE"},{id:"72",nom:"SARTHE"},{id:"73",nom:"SAVOIE"},{id:"74",nom:"HAUTE-SAVOIE"},{id:"75",nom:"PARIS"},{id:"76",nom:"SEINE-MARITIME"},{id:"77",nom:"SEINE-ET-MARNE"},{id:"78",nom:"YVELINES"},{id:"79",nom:"DEUX-SEVRES"},{id:"80",nom:"SOMME"},{id:"81",nom:"TARN"},{id:"82",nom:"TARN-ET-GARONNE"},{id:"83",nom:"VAR"},{id:"84",nom:"VAUCLUSE"},{id:"85",nom:"VENDEE"},{id:"86",nom:"VIENNE"},{id:"87",nom:"HAUTE-VIENNE"},{id:"88",nom:"VOSGES"},{id:"89",nom:"YONNE"},{id:"90",nom:"TERRITOIRE DE BELFORT"},{id:"91",nom:"ESSONNE"},{id:"92",nom:"HAUTS-DE-SEINE"},{id:"93",nom:"SEINE-SAINT-DENIS"},{id:"94",nom:"VAL-DE-MARNE"},{id:"95",nom:"VAL-D'OISE"}],e.id&&d.getMatch(e.id).then(function(b){for(var c=0;c<b.comments.length;c++)b.comments[c].created=new Date(b.comments[c].created);a.match=b,a.isAuth?a.isMatchFollowed=l.getCurrentUser().follow.indexOf(a.match._id)>=0:a.isMatchFollowed=!1,p(),a.match.games=a.match.games||[],o()},function(a){g.show(g.simple().content("Live introuvable!").theme("danger-toast")),k.path("/live")}),a.deleteMatch=function(c){a.isAuthor&&b["delete"]("/api/matchs/"+c._id).then(function(b){a.match={},k.path("/"),g.show(g.simple().content("Match correctement supprimé").theme("success-toast"))})},a.showAddGameModal=function(c){a.isAuthor&&f.show({controller:"AddGameController",templateUrl:"app/main/components/add-game.html",parent:angular.element(document.body),targetEvent:c,locals:{match:angular.copy(a.match)}}).then(function(c){c.match=a.match,b.post("/api/matchs/"+a.match._id+"/games",c).then(function(b){a.match.games.push(b.data),g.show(g.simple().content("Match correctement crée!").theme("success-toast"))},function(a){g.show(g.simple().content("Une erreur est survenu!").theme("danger-toast"))})})},a.updateSet=function(b,c){!a.waitScore&&a.isAuthor&&n()&&(a.match.games[b].score[c]=++a.match.games[b].score[c]%4,a.waitScore=!0,d.updateScore(a.match.games[b]._id,a.match.games[b].score).then(function(b){a.waitScore=!1}))},a.updatePoints=function(b,c,e){if(!a.waitScore&&a.isAuthor&&n()){for(var f=!0,g="dom"==e?"ext":"dom",h=0;c>h;h++)if(a.match.games[b].score.details[h].dom<11&&a.match.games[b].score.details[h].ext<11)return void(f=!1);4>c&&(0!==a.match.games[b].score.details[c+1].dom||0!==a.match.games[b].score.details[c+1].ext)&&(f=!1),a.match.games[b].score.details[c][g]>=11&&a.match.games[b].score.details[c][g]>a.match.games[b].score.details[c][e]+1&&(f=!1),f&&(a.match.games[b].score.details[c][e]<11||a.match.games[b].score.details[c][e]-1<=a.match.games[b].score.details[c][g]?a.match.games[b].score.details[c][e]++:a.match.games[b].score.details[c][e]=0,a.waitScore=!0,d.updateScore(a.match.games[b]._id,a.match.games[b].score).then(function(b){a.waitScore=!1}))}},a.updateActive=function(){a.isAuthor&&d.updateActive(a.match._id,a.match.active).then(function(b){a.match.active?g.show(g.simple().content("Ce live est maintenant actif. Il figure dans la liste des lives en cours.").theme("success-toast")):g.show(g.simple().content("Ce live est maintenant inactif.").theme("danger-toast"))})},a.followMatch=function(){a.isAuth?a.isMatchFollowed?g.show(g.simple().content("Ce match est déja dans vos favoris").theme("success-toast")):d.followMatch(a.match._id,l.getCurrentUser()._id).then(function(b){a.isMatchFollowed=!0,a.match=b.data,l.getCurrentUser().follow=l.getCurrentUser().follower||[],l.getCurrentUser().follow.push(a.match._id),g.show(g.simple().content("Match correctement ajouté aux favoris").theme("success-toast"))}):g.show(g.simple().content("Vous devez etre authentifié pour ajouter un match à vos favoris.").theme("danger-toast"))},a.unFollowMatch=function(){a.isMatchFollowed?d.unFollowMatch(a.match._id,l.getCurrentUser()._id).then(function(b){a.isMatchFollowed=!1,g.show(g.simple().content("Match correctement supprimé de vos favoris").theme("success-toast"))}):g.show(g.simple().content("Ce match n'est pas dans vos favoris").theme("success-toast"))},a.deleteGame=function(c,d){a.isAuthor&&confirm("Etes vous sur de vouloir supprimer ce match ?")&&b["delete"]("/api/games/"+d).then(function(b){a.match.games.splice(c,1),g.show(g.simple().content("Match correctement supprimé!").theme("success-toast"))})},a.deletePlayer=function(c,d,e){a.isAuthor&&confirm("Etes vous sur de vouloir supprimer ce joueur ?")&&b["delete"]("/api/teams/"+a.match.team[d]._id+"/player/"+e).then(function(b){a.match.team[d].players.splice(c,1),g.show(g.simple().content("Joueur correctement supprimé!").theme("success-toast"))})},a.player={dom:{},ext:{}},a.addMatch=function(){d.create(a.newMatch).then(function(b){g.show(g.simple().content("Live correctement crée!").theme("success-toast")),k.path("/live/"+b.data._id),a.newMatch={}})},a.addPlayer=function(b,c){if(a.isAuthor){var e;e=a.match.team[b]._id,d.addPlayer(a.player[b],e).then(function(d){g.show(g.simple().content("Joueur correctement ajouté!").theme("success-toast")),c.$setPristine(),a.match.team[b].players.push(d.data),a.player[b]={}})}},a.comment={},a.addComment=function(){a.isAuth?(console.log(a.comment),a.comment.body&&null!=a.comment.body&&d.addComment(a.comment.body,l.getCurrentUser()._id,a.match._id).then(function(b){a.comment={},a.match.comments.push(b.data)})):g.show(g.simple().content("Vous devez etre authentifié pour poster un commentaire.").theme("danger-toast"))},a.removePlayer=function(b,c,e){if(a.isAuthor){var f;f=a.match.team[c]._id,d.removePlayer(a.match.team[c].players[b]._id,f).then(function(b){g.show(g.simple().content("Joueur correctement Supprimé!").theme("danger-toast")),e.$setPristine(),a.match.team.dom.players.push(a.player[c]),a.player[c]={}})}}}]),angular.module("liveTtApp").config(["$stateProvider",function(a){a.state("main",{url:"/",templateUrl:"app/main/main.html",controller:"MainCtrl"}).state("live",{url:"/live/:id",templateUrl:"app/main/live.html",controller:"MainCtrl"}).state("create",{url:"/match/new",templateUrl:"app/main/add-match.html",controller:"MainCtrl"})}]),angular.module("liveTtApp").service("$match",["$q","$http","Auth","$mdToast","$timeout",function(a,b,c,d,e){var f={};return f.getMatchs=function(){var c=a.defer();return b.get("/api/matchs").success(function(a){f.matchs=a,c.resolve(a)}),c.promise},f.getMatch=function(c){var d=a.defer();return b.get("/api/matchs/"+c).success(function(a){d.resolve(a)},function(a){console.log(a)}),d.promise},f.getActiveMatchs=function(){return b.get("/api/matchs/active")},f.getComingMatchs=function(){return b.get("/api/matchs/coming")},f.getMyMatchs=function(){return b.get("/api/matchs/me")},f.create=function(a){return a.author=c.getCurrentUser()._id,a.author?b.post("/api/matchs",a):void d.show(d.simple().content("Vous devez etre connecté pour créer un match").theme("danger-toast"))},f.updateActive=function(a,c){return b.put("/api/matchs/"+a+"/active",{active:c})},f.addPlayer=function(a,c){return b.post("/api/teams/"+c+"/player",a)},f.addComment=function(a,c,d){return b.post("api/comments",{body:a,author:c,match:d})},f.updateScore=function(a,c){return b.put("/api/games/"+a+"/score",c)},f.followMatch=function(a,c){return b.put("api/matchs/"+a+"/follow",{user:c})},f.unFollowMatch=function(a,c){return b.put("api/matchs/"+a+"/unfollow",{user:c})},f.followedMatch=function(a){return b.get("api/matchs/followed/"+a)},f}]),angular.module("liveTtApp").controller("MylivesCtrl",["$scope","$http","socket","$match","$stateParams","$mdDialog","$mdToast","$mdSidenav","$mdUtil","$log","$location","Auth",function(a,b,c,d,e,f,g,h,i,j,k,l){d.getMyMatchs().then(function(b){a.matchs=b.data})}]),angular.module("liveTtApp").config(["$stateProvider",function(a){a.state("mylives",{url:"/mylives",templateUrl:"app/mylives/mylives.html",controller:"MylivesCtrl"})}]),angular.module("liveTtApp").factory("Auth",["$location","$rootScope","$http","User","$cookieStore","$q","$mdToast",function(a,b,c,d,e,f,g){var h={};return e.get("token")&&(h=d.get()),{login:function(a,b){var i=b||angular.noop,j=f.defer();return c.post("/auth/local",{username:a.username,password:a.password}).success(function(a){return e.put("token",a.token),h=d.get(),j.resolve(a),g.show(g.simple().content("Vous etes maintenant connecté").theme("success-toast")),i()}).error(function(a){return this.logout(),j.reject(a),i(a)}.bind(this)),j.promise},logout:function(){e.remove("token"),h={},g.show(g.simple().content("Vous etes maintenant déconnecté").theme("danger-toast"))},createUser:function(a,b){var c=b||angular.noop;return d.save(a,function(b){return e.put("token",b.token),h=d.get(),c(a)},function(a){return this.logout(),c(a)}.bind(this)).$promise},changePassword:function(a,b,c){var e=c||angular.noop;return d.changePassword({id:h._id},{oldPassword:a,newPassword:b},function(a){return e(a)},function(a){return e(a)}).$promise},getCurrentUser:function(){return h},isLoggedIn:function(){return h.hasOwnProperty("role")},isLoggedInAsync:function(a){h.hasOwnProperty("$promise")?h.$promise.then(function(){a(!0)})["catch"](function(){a(!1)}):a(h.hasOwnProperty("role")?!0:!1)},isAdmin:function(){return"admin"===h.role},getToken:function(){return e.get("token")}}}]),angular.module("liveTtApp").factory("User",["$resource",function(a){return a("/api/users/:id/:controller",{id:"@_id"},{changePassword:{method:"PUT",params:{controller:"password"}},get:{method:"GET",params:{id:"me"}}})}]),angular.module("liveTtApp").factory("httpRequestInterceptor",["$q","$location",function(a,b){return{responseError:function(c){return 404===c.status&&b.path("/404/"),a.reject(c)}}}]),angular.module("liveTtApp").factory("Modal",["$rootScope","$modal",function(a,b){function c(c,d){var e=a.$new();return c=c||{},d=d||"modal-default",angular.extend(e,c),b.open({templateUrl:"components/modal/modal.html",windowClass:d,scope:e})}return{confirm:{"delete":function(a){return a=a||angular.noop,function(){var b,d=Array.prototype.slice.call(arguments),e=d.shift();b=c({modal:{dismissable:!0,title:"Confirm Delete",html:"<p>Are you sure you want to delete <strong>"+e+"</strong> ?</p>",buttons:[{classes:"btn-danger",text:"Delete",click:function(a){b.close(a)}},{classes:"btn-default",text:"Cancel",click:function(a){b.dismiss(a)}}]}},"modal-danger"),b.result.then(function(b){a.apply(b,d)})}}}}}]),angular.module("liveTtApp").directive("mongooseError",function(){return{restrict:"A",require:"ngModel",link:function(a,b,c,d){b.on("keydown",function(){return d.$setValidity("mongoose",!0)})}}}),angular.module("liveTtApp").controller("NavbarCtrl",["$scope","$location","Auth","$timeout","$mdToast","$mdSidenav","$mdUtil","$log","$state",function(a,b,c,d,e,f,g,h,i){function j(a){var b=g.debounce(function(){f(a).toggle().then(function(){h.debug("toggle "+a+" is done")})},300);return b}a.menu=[{title:"Home",link:"/"}],a.isCollapsed=!0,a.isLoggedIn=c.isLoggedIn,a.isAdmin=c.isAdmin,a.getCurrentUser=c.getCurrentUser,a.logout=function(){c.logout(),i.go("main")},a.isActive=function(a){return a===b.path()},a.togglesideNav=j("sideNav"),a.navigateTo=function(a){f("sideNav").close().then(function(){h.debug("close sideNav is done"),i.go(a)})}}]),angular.module("liveTtApp").factory("socket",["socketFactory",function(a){var b=io("",{path:"/socket.io-client"}),c=a({ioSocket:b});return{socket:c,syncUpdates:function(a,b,d){d=d||angular.noop,c.on(a+":save",function(a){d(event,a)}),c.on(a+":remove",function(a){var c="deleted";_.remove(b,{_id:a._id}),d(c,a,b)})},unsyncUpdates:function(a){c.removeAllListeners(a+":save"),c.removeAllListeners(a+":remove")}}}]),angular.module("liveTtApp").run(["$templateCache",function(a){a.put("app/account/login/login.html",'<div class=container><div ng-include="\'components/navbar/sidebar.html\'"></div><div class="col-sm-12 text-center"><h1>Connexion</h1></div><form class="form tt-login-form" name=form ng-submit="form.$valid && login(form)" novalidate><div class="form-group has-error"><p class=help-block>{{ errors.other }}</p></div><md-content layout-padding class=autoScroll><div style=height:10px></div><md-input-container class=md-icon-float ng-class="{ \'has-success\': form.username.$valid && form.$submitted,\n                                              \'has-error\': form.username.$invalid && form.$submitted }"><label>Pseudo</label><md-icon class="fa fa-user fa-2x"></md-icon><input ng-model=user.username required name=username></md-input-container><div class="form-group has-error"><p class=help-block ng-show="form.username.$error.required && form.password.$error.required && form.$submitted">Merci de renseigner un pseudonyme et un mot de passe.</p><p class=help-block ng-show="form.username.$username.email && form.$submitted">Merci de renseigner un pseudonyme valide.</p></div><md-input-container class=md-icon-float ng-class="{ \'has-success\': form.password.$valid && form.$submitted,\n                                              \'has-error\': form.password.$invalid && form.$submitted }" s><label>Mot de passe</label><md-icon class="fa fa-key fa-2x"></md-icon><input ng-model=user.password required name=password type=password></md-input-container><div class="form-group has-error"><p class=help-block ng-show="form.password.$error.required && form.$submitted">Un mot de passe est requis</p></div></md-content><section layout=row layout-sm=row layout-align="center center" style=margin-top:15px><a class=md-primary type=button href=/signup>S\'enregistrer</a><md-button style=margin-left:10px class="md-raised md-primary" type=submit>Connexion</md-button></section><section layout=column layout-sm=column layout-align="center center" style=margin-top:15px><a class="btn btn-facebook btn-social" href="" ng-click="loginOauth(\'facebook\')"><i class="fa fa-facebook"></i> Connection avec Facebook</a> <a class="btn btn-google-plus btn-social" href="" ng-click="loginOauth(\'google\')"><i class="fa fa-google-plus"></i> Connection avec Google+</a> <a class="btn btn-twitter btn-social" href="" ng-click="loginOauth(\'twitter\')"><i class="fa fa-twitter"></i> Connection avec Twitter</a></section></form></div>'),a.put("app/account/settings/settings.html",'<div class=container><div ng-include="\'components/navbar/sidebar.html\'"></div><div class=row><div class=col-sm-12><h1>Change Password</h1></div><div class=col-sm-12><form class=form name=form ng-submit=changePassword(form) novalidate><div class=form-group><label>Current Password</label><input type=password name=password class=form-control ng-model=user.oldPassword mongoose-error><p class=help-block ng-show=form.password.$error.mongoose>{{ errors.other }}</p></div><div class=form-group><label>New Password</label><input type=password name=newPassword class=form-control ng-model=user.newPassword ng-minlength=3 required><p class=help-block ng-show="(form.newPassword.$error.minlength || form.newPassword.$error.required) && (form.newPassword.$dirty || submitted)">Password must be at least 3 characters.</p></div><p class=help-block>{{ message }}</p><button class="btn btn-lg btn-primary" type=submit>Save changes</button></form></div></div></div>'),a.put("app/account/signup/signup.html",'<div class=container><div ng-include="\'components/navbar/sidebar.html\'"></div><div class="col-sm-12 text-center"><h1>Créer un compte</h1></div><form class="form tt-login-form" name=form ng-submit="form.$valid && register(form)" novalidate><div class="form-group has-error"><p class=help-block>{{ errors.other }}</p></div><md-content layout-padding class=autoScroll><div style=height:10px></div><md-input-container class=md-icon-float ng-class="{ \'has-success\': form.username.$valid && form.$submitted,\n                                              \'has-error\': form.username.$invalid && form.$submitted }"><label>Pseudo</label><md-icon class="fa fa-user fa-2x"></md-icon><input ng-model=user.username required name=username></md-input-container><div class="form-group has-error"><p class=help-block ng-show="form.username.$error.required && form.password.$error.required && form.$submitted">Merci de renseigner un pseudo et un mot de passe.</p><p class=help-block ng-show="form.username.$error.email && form.$submitted">Merci de renseigner un username valide.</p></div><md-input-container class=md-icon-float ng-class="{ \'has-success\': form.password.$valid && form.$submitted,\'has-error\': form.password.$invalid && form.$submitted }"><label>Password</label><md-icon class="fa fa-key fa-2x"></md-icon><input type=password name=password ng-model=user.password ng-minlength=6 required mongoose-error></md-input-container><div class="form-group has-error"><p class=help-block ng-show="(form.password.$error.minlength || form.password.$error.required) && submitted">Le mot de passe doit contenir au moins 6 caractères.</p><p class=help-block ng-show=form.password.$error.mongoose>{{ errors.password }}</p><p class=help-block ng-show="form.password.$error.required && form.$submitted">Un mot de passe est requis.</p></div></md-content><section layout=row layout-sm=column layout-align="center center"><a class=md-primary type=button href=/login>Connexion</a><md-button class="md-raised md-primary" style=margin-left:15px type=submit>S\'enregistrer</md-button></section><section layout=row layout-sm=column layout-align="center center" style=margin-top:15px><a class="btn btn-facebook btn-social" href="" ng-click="loginOauth(\'facebook\')"><i class="fa fa-facebook"></i> Connection avec Facebook</a> <a class="btn btn-google-plus btn-social" href="" ng-click="loginOauth(\'google\')"><i class="fa fa-google-plus"></i> Connection avec Google+</a> <a class="btn btn-twitter btn-social" href="" ng-click="loginOauth(\'twitter\')"><i class="fa fa-twitter"></i> Connection avec Twitter</a></section></form></div>'),a.put("app/admin/admin.html",'<div class=container><p>The delete user and user index api routes are restricted to users with the \'admin\' role.</p><ul class=list-group><li class=list-group-item ng-repeat="user in users"><strong>{{user.name}}</strong><br><span class=text-muted>{{user.email}}</span> <a ng-click=delete(user) class=trash><span class="glyphicon glyphicon-trash pull-right"></span></a></li></ul></div>'),a.put("app/coming/coming.html",'<div ng-include="\'components/navbar/sidebar.html\'"></div><md-toolbar class=md-primary md-scroll-shrink style=margin-top:64px;z-index:100><h2 class=md-toolbar-tools><span flex>Rencontres à venir</span></h2></md-toolbar><div ng-hide="matchs.length == 0" ng-include="\'components/match/match-list.html\'" style=width:100%></div><div ng-show="matchs.length == 0"><h4 class=text-center>Il n\'y a aucun lives à venir actuellement</h4><h4 class=text-center>Pour créer votre propre live appuyez sur le boutton plus ci dessous</h4><img src=assets/images/cc6539aa.no_matchs.png class="tt-img-no-matchs"></div><md-button class="tt-fab-button md-fab md-accent" href=/match/new aria-label="New Match"><i class="fa fa-plus fa-lg" style=color:white></i></md-button>'),a.put("app/directives/playerName/playerName.html","<div>{{fullname}} ({{points}})</div>"),a.put("app/favorite/favorite.html",'<div ng-include="\'components/navbar/sidebar.html\'"></div><md-toolbar class=md-primary md-scroll-shrink style=margin-top:64px;z-index:100><h2 class=md-toolbar-tools><span flex>Favoris</span></h2></md-toolbar><div ng-include="\'components/match/match-list.html\'" style=width:100%></div><div ng-show="matchs.length == 0" style="position:relative;top:30px; height:100px"><h4 class="text-center tt-no-matchs-yet">Vous ne suivez aucune rencontres actuellement</h4><h4 class="text-center tt-no-matchs-yet">Cliquez sur les icones<md-icon class="fa fa-star-o"></md-icon>pour suivre une rencontre</h4><img src=assets/images/cc6539aa.no_matchs.png class="tt-img-no-matchs"></div>'),a.put("app/main/add-match.html","<md-toolbar md-scroll-shrink style=margin-top:64px><div class=md-toolbar-tools style=width:100%><h3><span class=text-center>Créer un nouveau live</span></h3></div></md-toolbar><section layout=row flex class=background-color><div ng-include=\"'components/navbar/sidebar.html'\"></div><div class=container><md-content><form name=form novalidate ng-submit=\"form.$valid && addMatch()\"><div layout layout-sm=column><md-select placeholder=\"Journée (*)\" ng-model=newMatch.journee required name=journee flex><md-option ng-repeat=\"j in [1,2,3,4,5,6,7,8,9,10,11,12,13,14]\" value={{j}}>Journée {{j}}</md-option></md-select></div><div layout layout-sm=row><md-select placeholder=\"Division (*)\" ng-model=newMatch.division required name=division flex=50><md-option ng-repeat=\"div in divisions\" value={{div}}>{{div}}</md-option></md-select><md-input-container flex=50><label>Poule (*)</label><md-select placeholder=\"Poule (*)\" ng-model=newMatch.poule required name=poule><md-option ng-repeat=\"poule in ['A','B','C','D','E','F','G','H','I','J','K','L','M','N','O','P','Q']\" value={{poule}}>Poule {{poule}}</md-option></md-select></md-input-container></div><div layout layout-sm=row ng-if=\"['D1','D2','D3','D4','D5'].indexOf(newMatch.division) > -1\"><md-input-container flex><label>Département {{departements}}</label><md-select placeholder=\"Département (*)\" ng-model=newMatch.ligue name=ligue><md-option ng-repeat=\"dep in departements\" value={{dep.id}}>{{dep.nom}}</md-option></md-select></md-input-container></div><div layout layout-sm=row ng-if=\"['R1','R2','R3','R4','R5','PR'].indexOf(newMatch.division) > -1\"><md-input-container flex><label>Ligue</label><md-select placeholder=\"Ligue (*)\" ng-model=newMatch.ligue name=ligue><md-option ng-repeat=\"ligue in ligues\" value={{ligue}}>{{ligue}}</md-option></md-select></md-input-container></div><div layout layout-sm=row ng-if=\"newMatch.division == 'PNZ'\"><md-input-container flex><label>Zone</label><md-select placeholder=\"Zone (*)\" ng-model=newMatch.ligue name=ligue><md-option ng-repeat=\"zone in zones\" value={{zone}}>{{zone}}</md-option></md-select></md-input-container></div><div layout layout-sm=column><md-input-container flex><label>Equipe à domicile (*)</label><input required ng-model=newMatch.team.dom.name name=domName><div ng-show=form.$submitted ng-messages=form.domName.$error><div ng-message=required>Merci de renseigner le nom de l'équipe évoluant à domicile.</div></div></md-input-container><md-input-container flex><label>Equipe à l'extérieur (*)</label><input ng-model=newMatch.team.ext.name name=extName required><div ng-show=form.$submitted ng-messages=form.extName.$error><div ng-message=required>Merci de renseigner le nom de l'équipe évoluant à l'extérieur.</div></div></md-input-container></div><div layout layout-sm=row><md-input-container flex><label>Date (*)</label><input type=date ng-model=newMatch.date name=date required><div ng-show=form.$submitted ng-messages=form.date.$error><div ng-message=required>Merci de donner la date de votre rencontre.</div></div></md-input-container><timepicker ng-model=newMatch.date hour-step=1 minute-step=1 show-meridian=false></timepicker></div><div layout layout-sm=row><md-input-container flex=40><label>Title (*)</label><input ng-model=newMatch.name required name=name><div ng-show=form.$submitted ng-messages=form.name.$error><div ng-message=required>Merci de donner un nom à votre rencontre.</div></div></md-input-container><md-input-container flex=60><label>Presentation</label><textarea ng-model=newMatch.body columns=1 md-maxlength=350></textarea></md-input-container></div><section layout=row layout-sm=column layout-align=\"center center\"><md-button class=\"md-raised md-primary\" type=submit>Créer</md-button></section></form></md-content></div></section>"),
a.put("app/main/components/add-game.html",'<md-dialog aria-label="Nouveau match" style="height:70%;width: 100%"><form><md-toolbar class=md-accent><div class=md-toolbar-tools><h2>Nouveau Match</h2><span flex></span><md-button class=md-icon-button ng-click=cancel()><md-icon class="fa fa-remove" aria-label="Close dialog"></md-icon></md-button></div></md-toolbar><md-dialog-content><md-subheader class=md-no-sticky>{{match.team.dom.name}}</md-subheader><md-list-item ng-repeat="(index,player) in match.team.dom.players"><md-checkbox ng-change=updateTeam(&quot;dom&quot;,player) ng-model=needmodel></md-checkbox><p>{{player.firstname}} {{player.lastname}}</p></md-list-item><md-divider></md-divider><md-subheader class=md-no-sticky>{{match.team.ext.name}}</md-subheader><md-list-item ng-repeat="player in match.team.ext.players"><md-checkbox ng-change=updateTeam(&quot;ext&quot;,player) ng-model=needmodel2></md-checkbox><p>{{player.firstname}} {{player.lastname}}</p></md-list-item><md-divider></md-divider><span flex></span><md-button ng-click=cancel() class=md-primary>Annuler</md-button><md-button ng-click=submit() class=md-primary>Ok</md-button></md-dialog-content></form></md-dialog>'),a.put("app/main/live.html",'<div ng-include="\'components/navbar/sidebar.html\'"></div><md-toolbar md-scroll-shrink style=margin-top:64px><div class=md-toolbar-tools style=width:100%><h3><span flex=50>{{ match.team.dom.name }} {{ match.team.dom.score }} - {{ match.team.ext.score }} {{ match.team.ext.name }}</span> <button flex=20 ng-hide=isMatchFollowed class="md-icon-button md-button" ng-click=followMatch() aria-label=Favorite><md-icon class="fa fa-star-o" style=color:white></md-icon></button> <button flex=20 ng-show=isMatchFollowed class="md-icon-button md-button md-default-theme" ng-click=unFollowMatch() aria-label=Favorite><md-icon class="fa fa-star" style=color:white></md-icon></button></h3></div></md-toolbar><section class=tt-live-container style=height:100%><md-content style=height:100%><md-tabs class="md-primary md-hue-4" md-selected=tabs.selectedIndex md-align-tabs="{{tabs.bottom ? \'bottom\' : \'top\'}}" style=height:100%><md-tab id=tab1 style=height:100%><md-tab-label><strong>Matchs</strong></md-tab-label><md-tab-body md-swipe-right=tabs.selectedIndex++; style=height:100%><md-switch class="md-accent pull-right" md-no-ink aria-label=live ng-model=match.active ng-change=updateActive() ng-if=isAuthor>Live</md-switch><div layout-align=center><h3 class=md-title>{{ match.name | uppercase }}</h3><p>{{ match.body }}</p><div ng-show="match.games.length == 0" style=position:relative;top:30px><h4 class="text-center tt-no-matchs-yet">Aucun match actuellement</h4><img src=assets/images/ea465920.no_matchs_2.png class="tt-img-no-matchs"></div><div ng-repeat="(gameIndex, game) in match.games" ng-hide="match.games.length == 0"><md-card><md-card-content class=card-score><div layout=row style="font-size: 1.1em;line-height: 1.25rem;padding-top:15px"><div flex=35><div ng-repeat="player in game.dom" style="padding-bottom:10px;font-size: 0.8em"><player-name ng-if=!player._id id=player players=match.team.dom.players></player-name><div ng-if=player._id>{{player.firstname | uppercase}} {{player.lastname | uppercase}}<p>({{ player.points }})</p></div></div></div><md-button flex=5 ng-click="updateSet(gameIndex, \'dom\')" class="tt-score-sets md-icon-button" aria-label=sets>{{game.score.dom}}</md-button><div flex=40 layout=row><md-button flex=15 ng-repeat="(setId, points) in game.score.details" ng-click="updatePoints(gameIndex, setId,\'dom\')" class="md-icon-button tt-score-points" aria-label=points>{{points.dom}}</md-button></div><md-button style=position:relative;top:-25px;right:3px class="md-icon-button pull-right" ng-click="deleteGame(gameIndex, game._id)" aria-label=delete-game ng-if=isAuthor><md-icon class="fa fa-remove" style=color:white></md-icon></md-button></div><md-divider style="margin:5px 0px 10px 0px"></md-divider><div layout=row style="font-size: 1.2em;line-height: 1.25rem;padding-top:15px"><div flex=35><div ng-repeat="player in game.ext" style="padding-bottom:10px;font-size: 0.8em"><player-name ng-if=!player._id id=player players=match.team.ext.players></player-name><div ng-if=player._id>{{player.firstname | uppercase}} {{player.lastname | uppercase}}<p>({{ player.points }})</p></div></div></div><md-button flex=5 ng-click="updateSet(gameIndex, \'ext\')" class="tt-score-sets md-icon-button" aria-label=sets>{{game.score.ext}}</md-button><div flex=40 layout=row><md-button flex=15 ng-repeat="(setId, points) in game.score.details" ng-click="updatePoints(gameIndex, setId,\'ext\')" class="md-icon-button tt-score-points" aria-label=points>{{points.ext}}</md-button></div></div></md-card-content></md-card></div></div></md-tab-body></md-tab><!-- Equipes --><md-tab id=tab2 style=height:100%;margin-bottom:82px><md-tab-label><strong>Equipes</strong></md-tab-label><md-tab-body><section><h4 class=text-center>Domicile : {{match.team.dom.name | uppercase}}</h4><form name=addDomPlayer novalidate ng-submit="addDomPlayer.$valid && addPlayer(\'dom\', addDomPlayer)" ng-if=isAuthor><div layout layout-sm=row style=margin-left:4%><md-input-container style=width:28%><label>Nom</label><input ng-model=player.dom.lastname name=pdomlastname required><div style=display:none ng-show=addDomPlayer.$submitted ng-messages=addDomPlayer.pdomlastname.$error><div ng-message=required>Nom du joueur requis.</div></div></md-input-container><md-input-container style=width:28%><label>Prénom</label><input ng-model=player.dom.firstname name=pdomfirstname required><div style=display:none ng-show=addDomPlayer.$submitted ng-messages=addDomPlayer.pdomfirstname.$error><div ng-message=required>Prénom du joueur requis.</div></div></md-input-container><md-input-container style=width:20%><label>Points</label><input type=number ng-model=player.dom.points name=pdompoints required><div style=display:none ng-show=addDomPlayer.$submitted ng-messages=addDomPlayer.pdompoints.$error><div ng-message=required>Nombre de points du joueur requis.</div></div></md-input-container><div style=position:relative;top:15px;float:right><md-button class="md-raised md-primary pull-right" type=submit>Ajouter</md-button></div></div></form><md-list><md-list-item class=md-2-line ng-repeat="(index, player) in match.team.dom.players" layout=row layout-wrap><div class="md-item-text md-whiteframe-z1 card-player" flex><md-button class="md-icon-button pull-right" ng-click="deletePlayer(index, \'dom\',player._id)" aria-label=delete-player ng-if=isAuthor><md-icon style=color:white class="fa fa-remove"></md-icon></md-button><h3 class="text-center opacity-8">{{ player.firstname | uppercase}} {{player.lastname | uppercase}}</h3><p class="text-center opacity-6">{{ player.points }} points</p></div></md-list-item></md-list></section><section style=margin-top:25px><h4 class=text-center>Extérieur : {{match.team.ext.name | uppercase}}</h4><form name=addExtPlayers novalidate ng-submit="addExtPlayers.$valid && addPlayer(\'ext\', addExtPlayers)" ng-if=isAuthor><div layout layout-sm=row style=margin-left:4%><md-input-container style=width:28%><label>Nom</label><input ng-model=player.ext.lastname name=pextlastname required><div style=display:none ng-show=addExtPlayers.$submitted ng-messages=addExtPlayers.pextlastname.$error><div ng-message="require  d">Nom du joueur requis.</div></div></md-input-container><md-input-container style=width:28%><label>Prénom</label><input ng-model=player.ext.firstname name=pextfirstname required><div style=display:none ng-show=addExtPlayers.$submitted ng-messages=addExtPlayers.pextfirstname.$error><div ng-message=required>Prénom du joueur requis.</div></div></md-input-container><md-input-container style=width:20%><label>Points</label><input type=number ng-model=player.ext.points name=pextpoints required><div style=display:none ng-show=addExtPlayers.$submitted ng-messages=addExtPlayers.pextpoints.$error><div ng-message=required>Nombre de points du joueur requis.</div></div></md-input-container><div style=position:relative;top:15px;float:right><md-button class="md-raised md-primary pull-right" type=submit>Ajouter</md-button></div></div></form><md-list><md-list-item class=md-2-line ng-repeat="(index, player) in match.team.ext.players" layout=row layout-wrap><div class="md-item-text md-whiteframe-z1 card-player" flex><md-button class="md-icon-button pull-right" ng-click="deletePlayer(index, \'ext\',player._id)" aria-label=delete-player ng-if=isAuthor><md-icon style=color:white class="fa fa-remove"></md-icon></md-button><h3 class="text-center opacity-8">{{ player.firstname | uppercase }} {{player.lastname | uppercase }}</h3><p class="text-center opacity-6">{{ player.points }} points</p></div></md-list-item></md-list></section></md-tab-body></md-tab><!-- Comments --><md-tab id=tab3><md-tab-label><strong>Commentaires({{ match.comments.length}})</strong></md-tab-label><md-tab-body style=height:100%><md-content latout=column flex style=height:100%><md-list style=margin-bottom:80px><div ng-show="match.comments.length == 0"><h4 class="text-center tt-no-matchs-yet">Il n\'y a aucun commentaires actuellement</h4><h4 class="text-center tt-no-matchs-yet">Soyez le premier à encourager votre équipe !</h4><img src=assets/images/8e0286c0.megaphone.png class="tt-img-no-matchs"></div><md-list-item class=md-3-line ng-repeat="comment in match.comments" ng-hide="match.comments.length == 0"><div class=md-list-item-text><h3>{{comment.author.username}} <small class=pull-right am-time-ago=comment.created style=opacity:0.7;font-size:0.9em></small></h3><p flex=80>{{comment.body}}</p></div><md-divider inset ng-if=!$last></md-divider></md-list-item></md-list></md-content></md-tab-body></md-tab></md-tabs></md-content></section><md-button ng-show="tabs.selectedIndex == 0" class="md-fab md-accent tt-fab-button" ng-click=showAddGameModal($event) aria-label="New Match" ng-if=isAuthor><i class="fa fa-plus fa-lg" style=color:white></i></md-button><!-- Add a comment --><div class=tt-comment-form ng-show="tabs.selectedIndex == 2"><section class=tt-comment layout=row layout-align=center layout-wrap><md-content flex-md=80 flex-sm=70><md-input-container flex><label>Votre message...</label><input ng-model=comment.body columns=1 md-maxlength=150 ng-keyup="$event.keyCode == 13 ? addComment() : null"></md-input-container></md-content><md-button class="tt-fab-button md-fab md-accent" aria-label=send-comment ng-click=addComment() style=position:relative;top:-32px><i class="fa fa-send fa-lg" style=position:relative;left:-3px;color:white></i></md-button></section></div>'),a.put("app/main/main.html",'<md-toolbar class=md-primary md-scroll-shrink style=margin-top:64px;z-index:100><h2 class=md-toolbar-tools><span flex>Rencontres en live</span><md-button class=md-icon-button aria-label=Refresh ng-click=refreshMatchs()><i class="fa fa-refresh"></i></md-button><md-button class=md-icon-button aria-label=Filter ng-click=toggleFilter()><i class="fa fa-filter"></i></md-button></h2></md-toolbar><section layout=row flex id=main><div ng-include="\'components/navbar/sidebar.html\'"></div><!-- Filter Side Nav Right --><md-sidenav class="md-sidenav-right md-whiteframe-z2" md-component-id=filterMatchs style=position:fixed;margin-top:64px><md-toolbar class="md-theme-indigo tt-filterNav"><h1 class=md-toolbar-tools>Filtrer les Matchs</h1></md-toolbar><md-content layout-padding style=background-color:#FFF><div layout layout-sm=column><md-input-container flex><label>Titre</label><input ng-model=search.name></md-input-container></div></md-content><md-content layout-padding style=background-color:#FFF><div layout layout-sm=column><md-input-container flex><label>Equipe à domicile</label><input ng-model=search.team.dom.name></md-input-container></div></md-content><md-content layout-padding style=background-color:#FFF><div layout layout-sm=column><md-input-container flex><label>Equipe à l\'extérieur</label><input ng-model=search.team.ext.name></md-input-container></div></md-content><md-content layout-padding style=background-color:#FFF><div layout layout-sm=column><md-select placeholder=Division ng-model=search.division><option value=""></option><md-option ng-repeat="div in divisions" value={{div}}>{{div}}</md-option></md-select></div></md-content></md-sidenav></section><div ng-show="matchs.length == 0" style=position:relative;top:30px;height:100px;width:100%><h4 class="text-center tt-no-matchs-yet">Il n\'y a aucun lives en cours actuellement</h4><h4 class="text-center tt-no-matchs-yet">Pour créer votre propre live appuyez sur le boutton plus ci dessous</h4><img src=assets/images/cc6539aa.no_matchs.png class="tt-img-no-matchs"></div><div ng-hide="matchs.length == 0" style=width:100% ng-include="\'components/match/match-list.html\'"></div><md-button class="tt-fab-button md-fab md-accent" href=/match/new aria-label="New Match"><i class="fa fa-plus fa-lg" style=color:white></i></md-button><!-- <tour step="currentStep" class="tt-fab-button">\n      <div tourtip="Commencer un live" >\n    </tour> -->'),a.put("app/mylives/mylives.html",'<div ng-include="\'components/navbar/sidebar.html\'"></div><md-toolbar class=md-primary md-scroll-shrink style=margin-top:64px;z-index:100><h2 class=md-toolbar-tools><span flex>Mes lives</span></h2></md-toolbar><div ng-include="\'components/match/match-list.html\'" style=width:100%></div><div ng-show="matchs.length == 0" style="position:relative;top:30px; height:100px"><h4 class="text-center tt-no-matchs-yet">Vous n\'avez crée aucunes rencontres pour le moment</h4><h4 class="text-center tt-no-matchs-yet">Pour créer votre premier rencontre appuyez sur le boutton plus ci dessous</h4><img src=assets/images/cc6539aa.no_matchs.png class="tt-img-no-matchs"></div><md-button class="tt-fab-button md-fab md-accent" href=/match/new aria-label="New Match"><i class="fa fa-plus fa-lg" style=color:white></i></md-button>'),a.put("components/match/match-list.html",'<md-content style=width:100%><md-list><md-list-item class=md-2-line ng-repeat="match in matchs | filter:search" style=margin:0px;padding:0px><div class=md-list-item-text style=margin:0px;padding:0px><md-card style="margin:4px 8px 4px 8px"><md-button href=/live/{{match._id}} style=margin:0px;padding:7px><div layout=row><div flex=30 flex-sm=25><img ng-src=assets/images/d67c7f3c.default_rencontre.png class=tt-img-rencontre></div><div flex=70 flex-sm=75><md-card-content style=padding:0px layout layout-sm=column><section flex=100 style="font-size:0.8em; margin-bottom:5px"><span class="label label-primary pull-right" style=margin-right:3px ng-if=match.active>live</span> <span class="label label-info pull-right" style=margin-right:3px ng-if=match.journee>J-{{match.journee}}</span> <span class="label label-info pull-right" style=margin-right:3px ng-if=match.poule>P-{{match.poule}}</span> <span class="label label-info pull-right" style=margin-right:3px ng-if=match.division>{{match.division}}</span> <span class="label label-info pull-right" style=margin-right:3px>{{match.comments.length}} <i class="fa fa-comment"></i></span> <span class="label label-info pull-right" style=margin-right:3px>Le {{match.date | date:\'dd-MM-yyyy\'}} par {{match.author.username}}</span></section><section flex=100><p class=tt-score>{{ match.team.dom.name }} <strong>({{ match.team.dom.score }} - {{ match.team.ext.score }})</strong> {{ match.team.ext.name }}</p></section><h4 class=tt-match-list-name>{{ match.name }}</h4></md-card-content></div></div></md-button></md-card></div></md-list-item></md-list></md-content>'),a.put("components/modal/modal.html",'<div class=modal-header><button ng-if=modal.dismissable type=button ng-click=$dismiss() class=close>&times;</button><h4 ng-if=modal.title ng-bind=modal.title class=modal-title></h4></div><div class=modal-body><p ng-if=modal.text ng-bind=modal.text></p><div ng-if=modal.html ng-bind-html=modal.html></div></div><div class=modal-footer><button ng-repeat="button in modal.buttons" ng-class=button.classes ng-click=button.click($event) ng-bind=button.text class=btn></button></div>'),a.put("components/navbar/navbar.html",'<md-content><md-toolbar ng-controller=NavbarCtrl style=position:fixed;z-index:102><div class=md-toolbar-tools><div class=navbar-header><md-button class=md-icon-button aria-label=Settings ng-click=togglesideNav()><i class="fa fa-bars"></i></md-button></div><ul class="nav navbar-nav" style=margin-left:15px><li ng-class="{active: isActive(\'/\')}">LIVE TT</li></ul></div><!--  <div>\n        <ul class="nav navbar-nav">\n          <li ng-repeat="item in menu" ng-class="{active: isActive(item.link)}">\n              <a ng-href="{{item.link}}">{{item.title}}</a>\n          </li>\n          <li ng-show="isAdmin()" ng-class="{active: isActive(\'/admin\')}"><a href="/admin">Admin</a></li>\n        </ul>\n\n        <ul class="nav navbar-nav navbar-right">\n          <li ng-hide="isLoggedIn()" ng-class="{active: isActive(\'/signup\')}"><a href="/signup">Sign up</a></li>\n          <li ng-hide="isLoggedIn()" ng-class="{active: isActive(\'/login\')}"><a href="/login">Login</a></li>\n          <li ng-show="isLoggedIn()"><p class="navbar-text"></p> </li>\n          <li ng-show="isLoggedIn()" ng-class="{active: isActive(\'/settings\')}"><a href="/settings"><span class="glyphicon glyphicon-cog"></span></a></li>\n          <li ng-show="isLoggedIn()" ng-class="{active: isActive(\'/logout\')}"><a href="" ng-click="logout()">Logout</a></li>\n        </ul>\n      </div> --></md-toolbar></md-content>'),a.put("components/navbar/sidebar.html",'<md-sidenav class="md-sidenav-left md-whiteframe-z2" md-component-id=sideNav style=position:fixed;margin-top:64px;z-index:101><md-toolbar class=md-theme-indigo><h1 class=md-toolbar-tools>Menu</h1></md-toolbar><md-content layout-padding ng-controller=NavbarCtrl class=sidebar-content><md-list><md-list-item ng-if=isLoggedIn()><img ng-if=!getCurrentUser().photo ng-src=assets/images/4b5b6268.default_user.png class=md-avatar alt="{{getCurrentUser().username}}"> <img ng-if=getCurrentUser().photo ng-src={{getCurrentUser().photo}} class=md-avatar alt="{{getCurrentUser().username}}"><p class="md-title md-primary">{{getCurrentUser().username}}</p><md-button ng-show=isLoggedIn() class=md-icon-button aria-label=Logout ng-click=logout()><i class="fa fa-power-off"></i></md-button></md-list-item><md-list-item ng-click="navigateTo(\'login\')" ng-if=!isLoggedIn()><md-icon class="fa fa-user"></md-icon><p>Connexion</p></md-list-item></md-list><md-list class=sidebar-item><md-list-item ng-click="navigateTo(\'coming\')"><md-icon class="fa fa-calendar-plus-o"></md-icon><p>Rencontres à venir</p></md-list-item></md-list><md-list class=sidebar-item><md-list-item ng-click="navigateTo(\'main\')"><md-icon class="fa fa-video-camera"></md-icon><p>Rencontres en live actuellement</p></md-list-item></md-list><md-list class=sidebar-item ng-if=isLoggedIn()><md-list-item ng-click="navigateTo(\'favorite\')"><md-icon class="fa fa-star"></md-icon><p>Favoris</p></md-list-item></md-list><md-list class=sidebar-item ng-if=isLoggedIn()><md-list-item ng-click="navigateTo(\'mylives\')"><md-icon class="fa fa-user"></md-icon><p>Mes rencontres</p></md-list-item></md-list><md-list class=sidebar-item ng-if=isLoggedIn()><md-list-item ng-click="navigateTo(\'create\')"><md-icon class="fa fa-plus"></md-icon><p>Créer une rencontre</p></md-list-item></md-list></md-content></md-sidenav>')}]);